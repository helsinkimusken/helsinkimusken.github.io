<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xteam - Cross-Team Coordination System</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Xteam Coordination System</h1>
            <p class="subtitle">Cross-Team Information Sharing & Tracking</p>
        </header>

        <main>
            <div class="upload-section">
                <h2>Submit Information</h2>

                <!-- Text Input -->
                <div class="input-group">
                    <label for="textInput">Text Input</label>
                    <textarea id="textInput" placeholder="Enter your text, notes, or comments..."></textarea>
                </div>

                <!-- Barcode/QR Code Scanner -->
                <div class="input-group">
                    <label>Barcode / QR Code</label>
                    <div style="display: flex; gap: 10px; margin-bottom: 10px; flex-wrap: wrap;">
                        <button id="scanButton" class="btn btn-secondary">
                            <span class="icon">üì∑</span> Scan with Camera
                        </button>
                        <button id="uploadCodeButton" class="btn btn-secondary" onclick="document.getElementById('codeImageUpload').click()">
                            <span class="icon">üñºÔ∏è</span> Upload Image
                        </button>
                        <input type="file" id="codeImageUpload" accept="image/*" hidden>
                    </div>
                    <div id="scannerContainer" style="display: none;">
                        <video id="scannerVideo" autoplay playsinline style="width: 100%; max-width: 500px; margin: 0 auto; display: block; border-radius: 8px;"></video>
                        <button id="closeScannerButton" class="btn btn-danger" style="margin-top: 10px;">Close Scanner</button>
                    </div>
                    <input type="text" id="barcodeInput" placeholder="Scanned code will appear here (or type manually)">
                </div>

                <!-- Photo Upload -->
                <div class="input-group">
                    <label for="photoUpload">Upload Photos</label>
                    <div class="file-upload-area" id="photoDropZone">
                        <input type="file" id="photoUpload" accept="image/*" multiple hidden>
                        <p>Drag & drop photos here or click to browse</p>
                        <button type="button" class="btn btn-secondary" onclick="document.getElementById('photoUpload').click()">
                            <span class="icon">üì∏</span> Choose Photos
                        </button>
                    </div>
                    <div id="photoPreview" class="file-preview"></div>
                </div>

                <!-- File Upload -->
                <div class="input-group">
                    <label for="fileUpload">Upload Files</label>
                    <div class="file-upload-area" id="fileDropZone">
                        <input type="file" id="fileUpload" multiple hidden>
                        <p>Drag & drop files here or click to browse</p>
                        <button type="button" class="btn btn-secondary" onclick="document.getElementById('fileUpload').click()">
                            <span class="icon">üìÑ</span> Choose Files
                        </button>
                    </div>
                    <div id="filePreview" class="file-preview"></div>
                </div>

                <!-- Folder Upload -->
                <div class="input-group">
                    <label for="folderUpload">Upload Folder</label>
                    <div class="file-upload-area">
                        <input type="file" id="folderUpload" webkitdirectory directory multiple hidden>
                        <button type="button" class="btn btn-secondary" onclick="document.getElementById('folderUpload').click()">
                            <span class="icon">üìÅ</span> Choose Folder
                        </button>
                    </div>
                    <div id="folderPreview" class="file-preview"></div>
                </div>

                <!-- Archive Upload (ZIP/RAR) -->
                <div class="input-group">
                    <label for="archiveUpload">Upload Archive (ZIP/RAR)</label>
                    <div class="file-upload-area" id="archiveDropZone">
                        <input type="file" id="archiveUpload" accept=".zip,.rar,.7z,.tar,.gz" multiple hidden>
                        <p>Drag & drop archives here or click to browse</p>
                        <button type="button" class="btn btn-secondary" onclick="document.getElementById('archiveUpload').click()">
                            <span class="icon">üóúÔ∏è</span> Choose Archive
                        </button>
                    </div>
                    <div id="archivePreview" class="file-preview"></div>
                </div>

                <!-- Metadata -->
                <div class="input-group">
                    <label for="userName">Your Name</label>
                    <input type="text" id="userName" placeholder="Enter your name">
                </div>

                <div class="input-group">
                    <label for="category">Category</label>
                    <select id="category">
                        <option value="">Select category...</option>
                        <option value="vendor-performance">Vendor Performance</option>
                        <option value="cross-team-issue">Cross-Team Issue</option>
                        <option value="quality-report">Quality Report</option>
                        <option value="delay-report">Delay Report</option>
                        <option value="achievement">Achievement</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="button-group">
                    <button id="submitButton" class="btn btn-primary">
                        <span class="icon">‚úì</span> Submit Information
                    </button>
                    <button id="clearButton" class="btn btn-secondary">
                        <span class="icon">‚úó</span> Clear Form
                    </button>
                </div>
            </div>

            <div class="data-section">
                <div class="section-header">
                    <h2>Submitted Records</h2>
                    <div class="filter-controls">
                        <select id="filterCategory">
                            <option value="">All Categories</option>
                            <option value="vendor-performance">Vendor Performance</option>
                            <option value="cross-team-issue">Cross-Team Issue</option>
                            <option value="quality-report">Quality Report</option>
                            <option value="delay-report">Delay Report</option>
                            <option value="achievement">Achievement</option>
                            <option value="other">Other</option>
                        </select>
                        <button id="exportButton" class="btn btn-secondary">
                            <span class="icon">üíæ</span> Export Data
                        </button>
                        <button id="clearAllButton" class="btn btn-danger">
                            <span class="icon">üóëÔ∏è</span> Clear All Data
                        </button>
                    </div>
                </div>
                <div id="recordsList" class="records-list"></div>
            </div>
        </main>

        <!-- Dashboard Section -->
        <section class="dashboard-section">
            <h2>üìä Dashboard & Analytics</h2>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalRecords">0</div>
                    <div class="stat-label">Total Records</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="todayRecords">0</div>
                    <div class="stat-label">Today's Records</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="weekRecords">0</div>
                    <div class="stat-label">This Week</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="activeUsers">0</div>
                    <div class="stat-label">Active Users</div>
                </div>
            </div>

            <div class="charts-grid">
                <div class="chart-card">
                    <h3>Records by Category</h3>
                    <canvas id="categoryChart"></canvas>
                    <div id="categoryLegend" class="chart-legend"></div>
                </div>
                <div class="chart-card">
                    <h3>Records by User</h3>
                    <canvas id="userChart"></canvas>
                    <div id="userLegend" class="chart-legend"></div>
                </div>
                <div class="chart-card full-width">
                    <h3>Records Over Time (Last 7 Days)</h3>
                    <canvas id="timelineChart"></canvas>
                </div>
            </div>
        </section>

        <footer>
            <p>Xteam Coordination System &copy; 2025</p>
        </footer>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

    <!-- Firebase Configuration -->
    <script src="firebase-config.js"></script>

    <!-- ZXing Barcode Scanner -->
    <script src="https://unpkg.com/@zxing/library@0.20.0/umd/index.min.js"></script>

    <!-- Main Application -->
    <script src="app.js"></script>
</body>
</html>
